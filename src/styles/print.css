/**
 * Print Styles for True WYSIWYG Document Editor
 * CSS-based A4 pagination
 */

/* A4 Page Setup */
@page {
  size: A4;
  margin: 0;
}

/* Print-specific styles */
@media print {

  /* Hide non-printable elements */
  .print-hidden,
  [data-print-hidden="true"] {
    display: none !important;
  }

  /* Reset body styles for print */
  body,
  html {
    margin: 0 !important;
    padding: 0 !important;
    background: white !important;
    width: auto !important;
    height: auto !important;
    overflow: visible !important;
  }

  /* The container of pages */
  .paged-preview-container {
    width: auto !important;
    margin: 0 !important;
    padding: 0 !important;
    background: white !important;
    display: block !important;
  }

  /* Document page styling - minimal override, let inline styles work */
  .document-page {
    width: 210mm !important;
    min-height: 297mm !important;
    /* Use min-height instead of fixed height */
    background: white !important;
    box-shadow: none !important;
    margin: 0 !important;
    page-break-after: always !important;
    break-after: page !important;
    display: block !important;
    /* DO NOT override padding - let inline styles control it */
    /* DO NOT set overflow: hidden - content needs to be visible */
  }

  /* Last page shouldn't force extra blank page */
  .document-page:last-child {
    page-break-after: auto !important;
    break-after: auto !important;
  }

  /* Force all content to be visible in print mode - CRITICAL */
  * {
    -webkit-print-color-adjust: exact !important;
    print-color-adjust: exact !important;
  }

  /* Make sure all content is visible */
  .formatted-content,
  .formatted-content *,
  .document-page .formatted-content,
  .document-page .formatted-content * {
    visibility: visible !important;
    opacity: 1 !important;
  }

  /* Ensure text is black - but allow inline color styles */
  .formatted-content p,
  .formatted-content h1,
  .formatted-content h2,
  .formatted-content h3,
  .formatted-content li,
  .formatted-content td,
  .formatted-content th,
  .formatted-content strong,
  .formatted-content em,
  .formatted-content u {
    color: #000000 !important;
  }

  /* Ensure proper text rendering */
  .formatted-content h1,
  .formatted-content h2,
  .formatted-content h3,
  .formatted-content h4,
  .formatted-content h5,
  .formatted-content h6,
  .formatted-content p,
  .formatted-content li,
  .formatted-content td,
  .formatted-content th,
  .formatted-content strong,
  .formatted-content em,
  .formatted-content u,
  .formatted-content span {
    color: #000000 !important;
    visibility: visible !important;
  }

  /* Override any dark mode or theme colors in print */
  .document-page h1,
  .document-page h2,
  .document-page h3,
  .document-page p,
  .document-page li,
  .document-page span,
  .document-page div,
  .document-page strong,
  .document-page em,
  .document-page u,
  .document-page code,
  .document-page td,
  .document-page th {
    color: #000000 !important;
  }

  /* Cover page title override */
  .document-page h1[style*="color"] {
    color: #000000 !important;
  }

  /* Page header text */
  .document-page .text-xs {
    color: #666666 !important;
  }
}

/* Screen Mode Styles for Preview */
@media screen {
  .document-page {
    margin-bottom: 2rem;
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
  }
}

/* Content Styling inside pages */
.page-content-wrapper {
  /* This inner wrapper handles the padding/margins */
  box-sizing: border-box;
  width: 100%;
  height: 100%;
}

/* Typography & Content Reset - Relaxed & Professional */
.formatted-content {
  color: black !important;
  font-size: 11pt;
  line-height: 1.75;
}

/* Headings - Clear separation with breathing room */
.formatted-content h1 {
  font-size: 20pt;
  font-weight: bold;
  line-height: 1.3;
  margin-top: 1.5em;
  /* Increased from 0 */
  margin-bottom: 1em;
}

.formatted-content h2 {
  font-size: 16pt;
  font-weight: bold;
  line-height: 1.3;
  margin-top: 2em;
  margin-bottom: 1em;
}

.formatted-content h3 {
  font-size: 13pt;
  font-weight: bold;
  line-height: 1.3;
  margin-top: 1.5em;
  margin-bottom: 0.75em;
}

.formatted-content h4,
.formatted-content h5,
.formatted-content h6 {
  font-weight: bold;
  line-height: 1.3;
  margin-top: 1.25em;
  margin-bottom: 0.5em;
}

/* Paragraphs - Relaxed spacing */
.formatted-content p {
  margin-bottom: 1.2em;
  text-align: justify;
  line-height: 1.75;
}

/* Lists - Breathing room between items */
.formatted-content ul,
.formatted-content ol {
  margin-bottom: 1.2em;
  padding-left: 2em;
}

.formatted-content li {
  margin-bottom: 0.5em;
  padding-left: 0.25em;
  line-height: 1.6;
}

/* Blockquotes - Premium look */
.formatted-content blockquote {
  border-left: 4px solid #3b82f6;
  background: #f8fafc;
  padding: 1em 1.5em;
  margin: 1.5em 0;
  font-style: italic;
  color: #4b5563;
  border-radius: 0 8px 8px 0;
}

/* Tables */
.formatted-content table {
  width: 100%;
  border-collapse: collapse;
  margin: 1.5em 0;
}

.formatted-content th,
.formatted-content td {
  border: 1px solid #d1d5db;
  padding: 10px 12px;
  text-align: left;
}

.formatted-content th {
  background-color: #f3f4f6;
  font-weight: 600;
}

/* Code blocks */
.formatted-content pre {
  background-color: #f3f4f6;
  padding: 1em 1.25em;
  border-radius: 6px;
  margin: 1.5em 0;
  font-size: 10pt;
}

.formatted-content code {
  font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
  font-size: 10pt;
}

.formatted-content p code,
.formatted-content li code {
  background-color: #f3f4f6;
  padding: 0.15em 0.4em;
  border-radius: 4px;
}

/* Horizontal rule */
.formatted-content hr {
  border: none;
  border-top: 1px solid #e5e7eb;
  margin: 2em 0;
}

.formatted-content img {
  max-width: 100%;
  height: auto;
}

/* ========== PAGE BREAK UTILITY ========== */
/* Manual page break marker for WYSIWYG control */
.page-break {
  page-break-before: always;
  /* Legacy */
  break-before: page;
  /* Modern */
  height: 0;
  width: 100%;
  visibility: hidden;
}

/* Screen mode: Show visual indicator for page breaks */
@media screen {
  .page-break {
    visibility: visible;
    height: auto;
    border: none;
    border-top: 2px dashed #94a3b8;
    margin: 16px 0;
    position: relative;
    display: block;
  }

  .page-break::after {
    content: "Page Break";
    position: absolute;
    top: -10px;
    left: 50%;
    transform: translateX(-50%);
    background: #f1f5f9;
    color: #64748b;
    font-size: 10px;
    font-weight: 500;
    padding: 2px 8px;
    border-radius: 4px;
    white-space: nowrap;
  }
}

/* Print mode: Force page break, hide visual indicator */
@media print {
  .page-break {
    visibility: hidden !important;
    height: 0 !important;
    margin: 0 !important;
    padding: 0 !important;
    border: none !important;
    page-break-before: always !important;
    break-before: page !important;
  }

  .page-break::after {
    display: none !important;
  }
}